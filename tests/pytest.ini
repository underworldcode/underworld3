# pytest.ini

## We should add notebooks from the documentation but
## They should not be ones with lots of visualisation etc
## as this is often not available on headless machines


[pytest]
minversion = 6.0
addopts = -ra
testpaths =
    tests
    # Jupyterbook/Notebooks/Examples-StokesFlow

# capture application tests by manually adding here
python_files =
    test_*.py
    # Ex_stokes_sinkingBlock_benchmark.py

# Custom markers for test categorization
markers =
    # Reliability tiers (how much to trust the test)
    tier_a: Production-ready tests (trusted, use for TDD and CI)
    tier_b: Validated tests (use with caution, manual review recommended)
    tier_c: Experimental tests (development only, not for automation)

    # Complexity levels (what kind of test, independent of number prefix)
    level_1: Quick core tests - imports, basic setup, no solving (~seconds)
    level_2: Intermediate tests - integration, units, regression (~minutes)
    level_3: Physics tests - solvers, time-stepping, coupled systems (~minutes to hours)

    # Other markers
    mpi: marks tests as requiring MPI (run with mpirun -n N python -m pytest --with-mpi)
    slow: marks tests as slow (deselect with '-m "not slow"')  

